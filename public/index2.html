<!doctype html>
<html lang="en" manifest="web.appcache">
<head>
<meta charset="utf-8" />
<title>Offline Audio Example</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="author" content="Alex Gibson" />
<script src="sounds/ufo.js"></script>
<script src="js/base64-binary.js"></script>
<script type="text/javascript">

var myAudioContext, mySource, myBuffer;

if ('AudioContext' in window) {
	myAudioContext = new AudioContext();
} else if ('webkitAudioContext' in window) {
	myAudioContext = new webkitAudioContext();
} else {
	alert('Your browser does not support yet Web Audio API');
}

function play () {

	mySource = myAudioContext.createBufferSource();
	mySource.buffer = myBuffer;
	mySource.connect(myAudioContext.destination);

	if ('AudioContext' in window) {
		console.log("1");
		mySource.start(0);
	} else if ('webkitAudioContext' in window) {
		console.log("2");
		mySource.noteOn(0);
	}

}

var load = (function (url) {

	var arrayBuff = Base64Binary.decodeArrayBuffer(sound);

	myAudioContext.decodeAudioData(arrayBuff, function(audioData) {
		myBuffer = audioData;
	});

}());

</script>
</head>

<body>
<button onClick="play();" style="height: 44px; width: 75px;">Play</button>
</body>
</html>